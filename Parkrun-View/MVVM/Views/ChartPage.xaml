<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Parkrun_View.MVVM.Views.ChartPage"
             xmlns:microcharts="clr-namespace:Microcharts.Maui;assembly=Microcharts.Maui"
             Title="">
    
    <Grid RowDefinitions="auto,auto,1*">
        <VerticalStackLayout  Grid.Row="0" >
            <ImageButton 
                Grid.ColumnSpan="3" 
                HorizontalOptions="End" 
                Margin="0,0,10,0"
                Source="settings.png"
                HeightRequest="20"
                Command="{Binding GoToSettingsCommand}"
                />
            <Label Text="WÃ¤hlen Sie einen Zeitraum aus"
                   TextDecorations="Underline"
                   FontSize="Title"
                   HorizontalOptions="Center"/>
            
            <HorizontalStackLayout HorizontalOptions="Center">
                <VerticalStackLayout Margin="10">
                    <Label Text="Von" HorizontalOptions="Center"/>
                    <DatePicker
                        Date="{Binding DateStart}"/>
                </VerticalStackLayout>
                <VerticalStackLayout Margin="10">
                    <Label Text="Bis" HorizontalOptions="Center"/>
                    <DatePicker
                        Date="{Binding DateEnd}"/>
                </VerticalStackLayout>
            </HorizontalStackLayout>
        </VerticalStackLayout>
        
        <Border Grid.Row="1" Stroke="Black" StrokeThickness="2" Background="LightGray" Padding="10" HorizontalOptions="Center"
              IsVisible="{Binding IsToManyData}">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="20"/>
            </Border.StrokeShape>

            <HorizontalStackLayout Spacing="20" HorizontalOptions="Center" Grid.Row="0" >
                <Label 
                 Text="{Binding IsCompleteLabelName}" 
                 FontSize="Small"
                 VerticalOptions="Center" 
                 TextColor="DarkBlue"/>

                <Button 
                 Text="Ansicht wechseln" 
                 FontSize="Small"
                 Command="{Binding ToggleViewModus}" 
                 Background="SteelBlue" 
                 TextColor="White" />
            </HorizontalStackLayout>
        </Border>

        <ScrollView Orientation="Horizontal" Grid.Row="2" Margin="10" >
            <microcharts:ChartView Chart="{Binding LineChart}" HeightRequest="{Binding ChartHeight}" WidthRequest="{Binding ChartWidth}" Margin="0,10,0,0"/>
        </ScrollView>
    </Grid>
</ContentPage>